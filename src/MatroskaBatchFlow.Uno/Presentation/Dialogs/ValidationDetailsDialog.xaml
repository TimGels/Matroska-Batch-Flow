<ContentDialog
    x:Class="MatroskaBatchFlow.Uno.Presentation.Dialogs.ValidationDetailsDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:models="using:MatroskaBatchFlow.Uno.Models"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Batch Validation Results"
    CloseButtonText="Close"
    DefaultButton="Close"
    Style="{ThemeResource DefaultContentDialogStyle}">
    
    <ScrollViewer MaxHeight="500"
                  MaxWidth="600"
                  HorizontalScrollBarVisibility="Disabled">
        <StackPanel Spacing="12">
            
            <!-- Errors Section -->
            <StackPanel Spacing="8"
                        Visibility="{x:Bind ViewModel.HasErrors, Mode=OneWay}">
                <TextBlock Text="Errors"
                           Style="{StaticResource SubtitleTextBlockStyle}"
                           Foreground="Red" />
                
                <ItemsRepeater ItemsSource="{x:Bind ViewModel.ValidationErrors, Mode=OneWay}">
                    <ItemsRepeater.ItemTemplate>
                        <DataTemplate x:DataType="models:ValidationNotificationItem">
                            <Grid Margin="0,4,0,0"
                                  ColumnSpacing="8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                
                                <FontIcon Grid.Column="0"
                                          Glyph="&#xE783;"
                                          FontSize="16"
                                          Foreground="Red" />
                                
                                <TextBlock Grid.Column="1"
                                           Text="{x:Bind Message}"
                                           TextWrapping="Wrap" />
                            </Grid>
                        </DataTemplate>
                    </ItemsRepeater.ItemTemplate>
                </ItemsRepeater>
            </StackPanel>
            
            <!-- Warnings Section -->
            <StackPanel Spacing="8"
                        Visibility="{x:Bind ViewModel.HasWarnings, Mode=OneWay}">
                <TextBlock Text="Warnings"
                           Style="{StaticResource SubtitleTextBlockStyle}"
                           Foreground="Orange" />
                
                <ItemsRepeater ItemsSource="{x:Bind ViewModel.ValidationWarnings, Mode=OneWay}">
                    <ItemsRepeater.ItemTemplate>
                        <DataTemplate x:DataType="models:ValidationNotificationItem">
                            <Grid Margin="0,4,0,0"
                                  ColumnSpacing="8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                
                                <FontIcon Grid.Column="0"
                                          Glyph="&#xE7BA;"
                                          FontSize="16"
                                          Foreground="Orange" />
                                
                                <TextBlock Grid.Column="1"
                                           Text="{x:Bind Message}"
                                           TextWrapping="Wrap" />
                            </Grid>
                        </DataTemplate>
                    </ItemsRepeater.ItemTemplate>
                </ItemsRepeater>
            </StackPanel>
            
            <!-- Information Section -->
            <StackPanel Spacing="8"
                        Visibility="{x:Bind ViewModel.HasInfoMessages, Mode=OneWay}">
                <TextBlock Text="Information"
                           Style="{StaticResource SubtitleTextBlockStyle}"
                           Foreground="DodgerBlue" />
                
                <ItemsRepeater ItemsSource="{x:Bind ViewModel.ValidationInfoMessages, Mode=OneWay}">
                    <ItemsRepeater.ItemTemplate>
                        <DataTemplate x:DataType="models:ValidationNotificationItem">
                            <Grid Margin="0,4,0,0"
                                  ColumnSpacing="8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                
                                <FontIcon Grid.Column="0"
                                          Glyph="&#xE946;"
                                          FontSize="16"
                                          Foreground="DodgerBlue" />
                                
                                <TextBlock Grid.Column="1"
                                           Text="{x:Bind Message}"
                                           TextWrapping="Wrap" />
                            </Grid>
                        </DataTemplate>
                    </ItemsRepeater.ItemTemplate>
                </ItemsRepeater>
            </StackPanel>
            
        </StackPanel>
    </ScrollViewer>
</ContentDialog>
